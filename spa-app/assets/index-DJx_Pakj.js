var h=Object.defineProperty;var d=(i,t,e)=>t in i?h(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var s=(i,t,e)=>(d(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=e(n);fetch(n.href,o)}})();class a{constructor({tag:t="div",className:e="",text:r=""},...n){s(this,"children",[]);s(this,"node");const o=document.createElement(t);o.className=e,o.textContent=r,this.node=o,n&&this.appendChildren(n)}append(t){this.children.push(t),this.node.append(t.getNode())}appendChildren(t){t.forEach(e=>{this.append(e)})}getNode(){return this.node}getChildren(){return this.children}setTextContent(t){this.node.textContent=t}addAttribute(t,e){this.node.setAttribute(t,e)}deleteAttribute(t){this.node.removeAttribute(t)}toggleClass(t){this.node.classList.toggle(t)}addListener(t,e,r=!1){this.node.addEventListener(t,e,r)}removeListener(t,e,r=!1){this.node.removeEventListener(t,e,r)}destroyChildren(){this.node.childNodes.forEach(e=>{e instanceof a&&e.destroy()}),this.children.length=0}destroy(){this.destroyChildren(),this.node.remove()}}class c extends a{constructor({text:t,className:e,type:r,callback:n}){super({tag:"button",className:e,text:t}),r&&this.addAttribute("type",r),n&&this.addListener("click",o=>{o.preventDefault(),n(o)})}disable(){this.addAttribute("disabled","true")}enable(){this.deleteAttribute("disabled")}}class l extends a{constructor({type:t,className:e,placeholder:r,required:n,onInput:o}){super({tag:"input",className:e}),this.addAttribute("type",t),this.addAttribute("placeholder",r),n!==null&&this.addAttribute("required",""),o&&this.addListener("input",u=>o(u))}getValue(){const t=this.getNode();return t?t.value:null}}class p{constructor({log:t,pass:e}){s(this,"log");s(this,"pass");this.log=t,this.pass=e}getLogPass(){this.log.trim()===""||this.pass.trim()===""?console.log("error"):console.log(this.log,this.pass)}}class g{constructor(){s(this,"inputsForm");s(this,"logInput");s(this,"passInput");s(this,"button");this.logInput=new l({type:"input",className:"fieldset-input--login input",placeholder:"Login",required:!0,onInput:t=>this.checkInputChange(t)}),this.passInput=new l({type:"password",className:"fieldset-input--password input",placeholder:"password",required:!0,onInput:t=>this.checkInputChange(t)}),this.button=new c({className:"fieldset-button btn",text:"Log In",type:"submit",callback:()=>this.initValidation()}),this.inputsForm=new a({className:"auth-fieldset--inputs"}),this.inputsForm.appendChildren([this.logInput,this.passInput,this.button]),this.checkInputValue()}initValidation(){const t=this.getLogValue()||"",e=this.getPassValue()||"";new p({log:t,pass:e}).getLogPass()}checkInputValue(){this.inputsForm.getChildren().forEach(e=>{const r=e.getNode();if(!r.classList.contains("input"))return;r.value.trim()===""?this.button.disable():this.button.enable()})}isValueInInput(){var t,e;((t=this.getLogValue())==null?void 0:t.trim())===""||((e=this.getPassValue())==null?void 0:e.trim())===""?this.button.disable():this.button.enable()}checkInputChange(t){t.target.value&&this.isValueInInput()}getLogValue(){return this.logInput.getValue()}getPassValue(){return this.passInput.getValue()}getComponent(){return this.inputsForm}}class m{constructor(){s(this,"fieldset");s(this,"inputs");this.inputs=new g;const t=this.inputs.getComponent();this.fieldset=new a({tag:"fieldset",className:"auth-form--fieldset"},new a({tag:"legend",className:"fieldset-legend",text:"Authorization"}),t)}getComponent(){return this.fieldset}}class f{constructor(){s(this,"form");s(this,"auth");this.form=new m;const t=this.form.getComponent();this.auth=new a({tag:"form",className:"auth-form"},t)}getComponent(){return this.auth}}class b{constructor(){s(this,"authForm");s(this,"auth");this.authForm=new f;const t=this.authForm.getComponent();this.auth=new a({className:"auth"},t)}getNode(){return this.auth}}class C{constructor(){s(this,"header");this.header=new a({tag:"header",className:"header",text:"header"})}getComponent(){return this.header}}class N{constructor(){s(this,"pageContent");s(this,"header");this.header=new C;const t=this.header.getComponent();this.pageContent=new a({className:"page-container"},t)}getNode(){return this.pageContent}}class w{constructor(){s(this,"isUserStorage");this.isUserStorage=!1}checkStorage(){return this.isUserStorage}}class I{constructor(){s(this,"auth");s(this,"pageContent");s(this,"storage");s(this,"appRoot");this.appRoot=new a({className:"app"}),this.auth=new b,this.pageContent=new N,this.storage=new w}isUserOnline(){return this.storage.checkStorage()}renderPage(){this.isUserOnline()?this.appRoot.append(this.pageContent.getNode()):this.appRoot.append(this.auth.getNode())}getNode(){return this.renderPage(),this.appRoot.getNode()}}class y{constructor(){s(this,"body");s(this,"controller");this.body=document.body,this.controller=new I}start(){this.body.append(this.controller.getNode())}}const L=new y;L.start();
//# sourceMappingURL=index-DJx_Pakj.js.map
